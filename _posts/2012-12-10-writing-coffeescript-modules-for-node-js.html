---
layout: post
title: Writing CoffeeScript Modules for Node.js
tags: []
status: draft
type: post
published: false
meta:
  _edit_last: '1'
  _edit_lock: '1373621660'
  _wp_old_slug: ''
---
If you write a module in CoffeeScript, you probably intend for it to be available to the wider Node.js community and not limit it to working in CoffeeScript projects.  This is not hard to do and there are several successful strategies.  The chief among these are:
<ol>
	<li>Compile to Javascript before pushing to the npm repository, so you are just uploading native Javascript</li>
	<li>Compile to Javascript on installation, using the coffee-script npm package</li>
</ol>
There are potential advantages to both but for <a href="http://github.com/relistan/troll-opt">Troll-opt</a>, I chose to compile my code at installation time rather than beforehand.Â  There is not much overhead to doing this and the advantage is that it makes it rather easy to facilitate continuous integration (i.e. with something like <a href="http://travis-ci.org">Travis CI</a>) because you can rely on the configuration in package.json to tell the CI system how to install and run the tests.

Here is all it takes to distribute things this way:
<ul>
	<li>Get the right configuration in package.json</li>
	<li>Add a .npmignore file and a .gitignore with the right settings</li>
</ul>
The first of those really only involves making
